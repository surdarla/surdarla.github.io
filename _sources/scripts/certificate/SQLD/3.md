# 3. SQL 기본

```{figure} https://th.bing.com/th/id/OIP.-KvoMKZ3ekyioo7aFrQgMgHaHH?pid=ImgDet&rs=1
```

## 1. 관계형 DB

DB\
데이터를 일정한 형태로 저장해 놓은 것\
DBMS를 이용하여 효율적인 데이터 관리와 데이터 손상 복구 가능\

**종류**
- 계층형 DB : 트리 형태의 자료구조에 데이터 저장, 1:N 관계 표현
- 네트워크형 DB : 오너와 멤버 형태로 데이터 저장, M:N 관계 표현
- 관계형 DB : 릴레이션에 데이터 저장, 집합 연산과 관계 연산 가능

**관계형 DB(RDB;Relational Database)**
1. 정규화를 통해 이상현상 및 중복 데이터 제거
2. 동시성 관리와 병행 제어를 통해 데이터 동시 조작 가능

**집합 연산**
- 합집합(Union)
- 차집합(Difference)
- 교집합(Intersection)
- 곱집합(Cartesian Product) : 각 릴레이션에 존재하는 모든 데이터를 조합

**관계 연산**
- 선택 연산(Selection) : 조건에 맞는 행(튜플) 조회
- 투영 연산(Projection) : 조건에 맞는 컬럼(속성) 조회
- 결합 연산(Join) : 공통 속성을 사용하여 새로운 릴레이션 생성
- 나누기 연산(Division) : 공통 요소를 추출, 분모 릴레이션의 속성을 삭제한 후 중복된 행 제거

**SQL**
- RDB에서 사용하는 언어
- 데이터 조회,입력,수정,삭제 기능 제공

1. DML(Data Manipulation Language, 데이터 조작어) ISUD
   1. SELECT: 조회
   2. INSERT, UPDATE, DELETE: 변형
2. DDL(Data Definition Language, 데이터 정의어) CAD
   1. 데이터 구조에 관련 명령어
   2. CREATE, ALTER, DROP, RENAME
3. DCL(Data Control Language, 데이터 제어어)
   1. DB 접근 권한 부여 및 회수
   2. GRANT, REVOKE
4. TCL(Transaction Control Language, 트랜잭션 제어어)
   1. DML로 조작한 결과를 논리적인 작업 단위 별로 제어
   2. COMMIT, ROLLBACK

**Table 테이블**
RDB의 기본단위, 데이터를 저장하는 객체, column-row 2차원 구조\
Field 필드 : 컬럼과 행이 겹치는 하나의 공간

```{figure} https://dataonair.or.kr/publishing/img/knowledge/SQL_156.jpg
선수와 관련된 데이터를 저장할 때 모든 데이터를 하나의 테이블로 저장하지 않는다. [그림 Ⅱ-1-5]를 보면 선수와 관련된 데이터를 선수 테이블과 구단 테이블이라는 복수의 테이블로 분할하여 저장하고 있다.

그리고 분할된 테이블은 그 칼럼의 값에 의해 연결된다. 이렇게 테이블을 분할하여 데이터의 불필요한 중복을 줄이는 것을 정규화(Normalization)라고 한다. 데이터의 정합성 확보와 데이터 입력/수정/삭제시 발생할 수 있는 이상현상(Anomaly)을 방지하기 위해 정규화는 관계형 데이터베이스 모델링에서 매우 중요한 프로세스이다.
```

### 2. DDL

**데이터 타입**(Oracle,SQL Server 형식, 괄호안은 조건)
- CHAR(L) : 고정 길이 문자열, 할당된 변수 값의 길이가 L 이하 일때 차이는 공백으로 채움
- VARCHAR2(L),VARCHAR(L) : 가변 길이 문자열, 할당되는 변수 값의 길이의 최대값이 L임. 문자열은 가능한 최대 길이로 설정
- NUMBER(L,D) : 숫자형(L은 전체자리수, D는 소수점 자리수)
  - SQL Server은 NUMERIC, DECIMAL, FLOAT, REAL 등 존재
- DATE, DATETIME : 날짜형, 데이터 크기 지정이 필요하지 않음
- 